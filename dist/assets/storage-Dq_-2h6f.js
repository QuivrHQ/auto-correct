const s={enabled:!0,language:"auto",apiUrl:"https://languagetool-autocorrect.fly.dev",personalDictionary:[]},a="autocorrect_settings";async function r(){const t=(await chrome.storage.sync.get(a))[a];return{...s,...t}}async function i(e){const n={...await r(),...e};return await chrome.storage.sync.set({[a]:n}),n}function c(e){const t=n=>{if(n[a]){const o=n[a].newValue;e({...s,...o})}};return chrome.storage.onChanged.addListener(t),()=>chrome.storage.onChanged.removeListener(t)}async function u(e){const t=await r(),n=e.toLowerCase().trim();t.personalDictionary.includes(n)||await i({personalDictionary:[...t.personalDictionary,n]})}async function l(e){const t=await r(),n=e.toLowerCase().trim();await i({personalDictionary:t.personalDictionary.filter(o=>o!==n)})}export{s as D,u as a,r as g,c as o,l as r,i as s};
